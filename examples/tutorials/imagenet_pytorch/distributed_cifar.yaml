description: imagenet_pytorch_dist_cifar
environment:
  image:
    gpu: determinedai/environments:cuda-10.2-pytorch-1.7-tf-1.15-gpu-0.16.4
    cpu: determinedai/environments:py-3.7-pytorch-1.7-tf-1.15-cpu-0.16.4
hyperparameters:
  global_batch_size: 1024 # 256 * 4 gpu slots
  data_location: /mnt/data
  arch: resnet18
  workers: 4
  lr: 0.1
  momentum: 0.9
  weight_decay: 1e-4
  evaluate: store_true
  pretrained: True
  dataset: cifar
  download: True
records_per_epoch: 50000
resources:
  slots_per_trial: 4
searcher:
  name: single
  metric: val_loss
  smaller_is_better: true
  max_length:
    epochs: 1
entrypoint: model_def:ImagenetTrial
